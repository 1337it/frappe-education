var fe=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var q=(e,n,s)=>new Promise((o,t)=>{var r=l=>{try{a(s.next(l))}catch(f){t(f)}},u=l=>{try{a(s.throw(l))}catch(f){t(f)}},a=l=>l.done?o(l.value):Promise.resolve(l.value).then(r,u);a((s=s.apply(e,n)).next())});import{e as M,r as U,m as z,i as de,h as _e,a as pe,w as he,b as J,c as O,d as K,t as me,g as ve,o as be,n as ge,f as ye,j as T,k as $,l as xe,p as Se,_ as g,q as j,s as Ee,u as Pe,v as _,x as N,y as Q,z as X,D as we,A as Le,B as D,C as k,F as Re,E as Ce,G as Ie,R as je,H as ke,I as Oe,J as De,K as Ve,L as Ae,M as Ne,N as $e}from"./frappe-ui.49d8c9fc.js";var ft=fe(ne=>{const Be=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function s(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerpolicy&&(r.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?r.credentials="include":t.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(t){if(t.ep)return;t.ep=!0;const r=s(t);fetch(t.href,r)}};Be();/*!
 * pinia v2.1.7
 * (c) 2023 Eduardo San Martin Morote
 * @license MIT
 */let Y;const A=e=>Y=e,Z=Symbol();function B(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var I;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(I||(I={}));function Fe(){const e=M(!0),n=e.run(()=>U({}));let s=[],o=[];const t=z({install(r){A(t),t._a=r,r.provide(Z,t),r.config.globalProperties.$pinia=t,o.forEach(u=>s.push(u)),o=[]},use(r){return!this._a&&!de?o.push(r):s.push(r),this},_p:s,_a:null,_e:e,_s:new Map,state:n});return t}const ee=()=>{};function G(e,n,s,o=ee){e.push(n);const t=()=>{const r=e.indexOf(n);r>-1&&(e.splice(r,1),o())};return!s&&ve()&&be(t),t}function w(e,...n){e.slice().forEach(s=>{s(...n)})}const Ue=e=>e();function F(e,n){e instanceof Map&&n instanceof Map&&n.forEach((s,o)=>e.set(o,s)),e instanceof Set&&n instanceof Set&&n.forEach(e.add,e);for(const s in n){if(!n.hasOwnProperty(s))continue;const o=n[s],t=e[s];B(t)&&B(o)&&e.hasOwnProperty(s)&&!O(o)&&!K(o)?e[s]=F(t,o):e[s]=o}return e}const We=Symbol();function He(e){return!B(e)||!e.hasOwnProperty(We)}const{assign:m}=Object;function qe(e){return!!(O(e)&&e.effect)}function Ge(e,n,s,o){const{state:t,actions:r,getters:u}=n,a=s.state.value[e];let l;function f(){a||(s.state.value[e]=t?t():{});const v=ye(s.state.value[e]);return m(v,r,Object.keys(u||{}).reduce((x,S)=>(x[S]=z(T(()=>{A(s);const E=s._s.get(e);return u[S].call(E,E)})),x),{}))}return l=te(e,f,n,s,o,!0),l}function te(e,n,s={},o,t,r){let u;const a=m({actions:{}},s),l={deep:!0};let f,v,x=[],S=[],E;const P=o.state.value[e];!r&&!P&&(o.state.value[e]={}),U({});let W;function H(i){let c;f=v=!1,typeof i=="function"?(i(o.state.value[e]),c={type:I.patchFunction,storeId:e,events:E}):(F(o.state.value[e],i),c={type:I.patchObject,payload:i,storeId:e,events:E});const h=W=Symbol();ge().then(()=>{W===h&&(f=!0)}),v=!0,w(x,c,o.state.value[e])}const re=r?function(){const{state:c}=s,h=c?c():{};this.$patch(b=>{m(b,h)})}:ee;function ce(){u.stop(),x=[],S=[],o._s.delete(e)}function ae(i,c){return function(){A(o);const h=Array.from(arguments),b=[],R=[];function ie(d){b.push(d)}function le(d){R.push(d)}w(S,{args:h,name:i,store:p,after:ie,onError:le});let C;try{C=c.apply(this&&this.$id===e?this:p,h)}catch(d){throw w(R,d),d}return C instanceof Promise?C.then(d=>(w(b,d),d)).catch(d=>(w(R,d),Promise.reject(d))):(w(b,C),C)}}const ue={_p:o,$id:e,$onAction:G.bind(null,S),$patch:H,$reset:re,$subscribe(i,c={}){const h=G(x,i,c.detached,()=>b()),b=u.run(()=>he(()=>o.state.value[e],R=>{(c.flush==="sync"?v:f)&&i({storeId:e,type:I.direct,events:E},R)},m({},l,c)));return h},$dispose:ce},p=J(ue);o._s.set(e,p);const L=(o._a&&o._a.runWithContext||Ue)(()=>o._e.run(()=>(u=M()).run(n)));for(const i in L){const c=L[i];if(O(c)&&!qe(c)||K(c))r||(P&&He(c)&&(O(c)?c.value=P[i]:F(c,P[i])),o.state.value[e][i]=c);else if(typeof c=="function"){const h=ae(i,c);L[i]=h,a.actions[i]=c}}return m(p,L),m(me(p),L),Object.defineProperty(p,"$state",{get:()=>o.state.value[e],set:i=>{H(c=>{m(c,i)})}}),o._p.forEach(i=>{m(p,u.run(()=>i({store:p,app:o._a,pinia:o,options:a})))}),P&&r&&s.hydrate&&s.hydrate(p.$state,P),f=!0,v=!0,p}function oe(e,n,s){let o,t;const r=typeof n=="function";typeof e=="string"?(o=e,t=r?s:n):(t=e,o=e.id);function u(a,l){const f=_e();return a=a||(f?pe(Z,null):null),a&&A(a),a=Y,a._s.has(o)||(r?te(o,n,t,a):Ge(o,t,a)),a._s.get(o)}return u.$id=o,u}const Me=oe("education-session",()=>{const{users:e}=se();function n(){let a=new URLSearchParams(document.cookie.split("; ").join("&")).get("user_id");return a==="Guest"&&(a=null),a}let s=U(n());const o=T(()=>!!s.value),t=$({url:"login",onError(){throw new Error("Invalid email or password")},onSuccess(){e.reload(),s.value=n(),t.reset(),V.replace({path:"/"})}}),r=$({url:"logout",onSuccess(){e.reset(),s.value=null,V.replace({name:"Login"})}});return{user:s,isLoggedIn:o,login:t,logout:r}}),se=oe("education-users",()=>{const e=Me();let n=J({});const s=$({url:"education.education.api.get_user_info",cache:"Users",initialData:[],transform(t){for(let r of t)n[r.name]=r;return console.log(userByName),console.log(t),t},onError(t){console.log(t),t&&t.exc_type==="AuthenticationError"&&router.push("/login")}});function o(t){return(!t||t==="sessionUser")&&(t=e.user),t?(n[t]||(n[t]={name:t,email:t,full_name:t.split("@")[0],user_image:null}),n[t]):null}return{users:s,getUser:o}}),ze=[{path:"/",name:"Home",component:()=>g(()=>import("./Home.6059a353.js"),["assets/Home.6059a353.js","assets/frappe-ui.49d8c9fc.js","assets/frappe-ui.005832b0.css"])},{path:"/schedule",name:"Schedule",component:()=>g(()=>import("./Schedule.01fc8e2b.js"),["assets/Schedule.01fc8e2b.js","assets/Schedule.012257c2.css","assets/frappe-ui.49d8c9fc.js","assets/frappe-ui.005832b0.css"])},{path:"/grades",name:"Grades",component:()=>g(()=>import("./Grades.44a9a37e.js"),["assets/Grades.44a9a37e.js","assets/frappe-ui.49d8c9fc.js","assets/frappe-ui.005832b0.css"])},{path:"/fees",name:"Fees",component:()=>g(()=>import("./Fees.34bdecc8.js"),["assets/Fees.34bdecc8.js","assets/frappe-ui.49d8c9fc.js","assets/frappe-ui.005832b0.css"])},{path:"/attendance",name:"Attendance",component:()=>g(()=>import("./Attendance.e3077277.js"),["assets/Attendance.e3077277.js","assets/frappe-ui.49d8c9fc.js","assets/frappe-ui.005832b0.css"])},{path:"/leaves",name:"Leaves",component:()=>g(()=>import("./Leaves.08109b90.js"),["assets/Leaves.08109b90.js","assets/frappe-ui.49d8c9fc.js","assets/frappe-ui.005832b0.css"])},{path:"/profile",name:"Profile",component:()=>g(()=>import("./Profile.80ee4793.js"),["assets/Profile.80ee4793.js","assets/frappe-ui.49d8c9fc.js","assets/frappe-ui.005832b0.css"])}];let V=xe({history:Se("/"),routes:ze});V.beforeEach((e,n)=>q(ne,null,function*(){const{users:s}=se();console.log(s,"router"),yield s.promise}));const Je=_("div",{class:"text-base font-medium text-gray-900 leading-none"}," CRM ",-1),Ke="Rit",Te={__name:"UserDropdown",setup(e){const n=[{icon:"log-out",label:"Log out"}];return(s,o)=>(j(),Ee(X(we),{options:n},{default:Pe(({open:t})=>[_("button",{class:N(["flex h-12 py-2 items-center rounded-md duration-300 ease-in-out","hover:bg-gray-200 px-2 w-52"])},[_("div",{class:N(["flex flex-1 flex-col text-left duration-300 ease-in-out","opacity-100 ml-2 w-auto"])},[Je,_("div",{class:"mt-1 text-sm text-gray-700 leading-none"},Q(Ke))]),_("div",{class:N(["duration-300 ease-in-out","opacity-100 ml-2 w-auto"])})])]),_:1}))}},Qe={class:"flex flex-col"},Xe=["onClick"],Ye={__name:"Sidebar",setup(e){const n=Le(),s=[{label:"Dashboard",to:"/"},{label:"Schedule",to:"schedule"},{label:"Grades",to:"grades"},{label:"Fees",to:"fees"},{label:"Attendance",to:"attendance"},{label:"Leave",to:"leaves"},{label:"Profile",to:"profile"}],o=t=>{n.push(t)};return(t,r)=>(j(),D("div",Qe,[k(Te),(j(),D(Re,null,Ce(s,u=>_("button",{class:"text-left mb-2 text-lg",onClick:a=>o(u.to)},Q(u.label),9,Xe)),64))]))}},Ze={},et={class:"flex justify-end gap-3 items-center px-5 py-2.5 h-12 border-b-[1px] border-gray-400"},tt=_("h3",{class:"cursor-pointer"},"Notifications",-1),ot=_("h3",{class:"cursor-pointer"},"Profile",-1),st=[tt,ot];function nt(e,n){return j(),D("header",et,st)}var rt=Ie(Ze,[["render",nt]]);const ct={class:"flex h-screen w-screen"},at={class:"h-full border-r bg-gray-50"},ut={class:"flex-1 flex flex-col h-full overflow-auto"},it={__name:"App",setup(e){return(n,s)=>(j(),D("div",null,[_("div",ct,[_("div",at,[k(Ye)]),_("div",ut,[k(rt),k(X(je))])])]))}};let lt=Fe(),y=ke(it);Ne("resourceFetcher",$e);y.use(lt);y.use(V);y.use(Oe);y.component("Button",De);y.component("Card",Ve);y.component("Input",Ae);y.mount("#app")});export default ft();
